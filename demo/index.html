<!DOCTYPE html>
<html lang="en">
	<head>

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link href='https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700italic,700' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="../bower_components/Swiper/dist/css/swiper.min.css">
		<link rel="stylesheet" href="../dist/natural-carousel.min.css">
		<link rel="stylesheet" href="../dist/themes/natural.css">
		<link rel="stylesheet" href="demo.css">

		<script src="../bower_components/jquery/dist/jquery.js"></script>
		<script src="../bower_components/lodash/dist/lodash.min.js"></script>

		<script>
			var images = [];
			var thumbnailMaximumHeight = 300;
			var cats = [7];//[2, 3, 4, 6, 7, 8];
			var cat = Math.floor(Math.random() * cats.length);
			cat = cats[cat];

			$.ajax({
				dataType: "json",
				async: false,
				url: "https://api.unsplash.com/categories/" + cat + "/photos",
				data: {
					client_id: 'c46fa8f775eae058f01a95187d3e47b8f723de91eb976bf74b1f5551606b7a62',
					per_page: 10
				},
				success: function(data) {

					for (var i = 0; i < data.length; i++) {

						var image = data[i];

						// some times unsplash it send corrupted (?) data
						var ratio = image.width / image.height;
						if (isNaN(ratio)) {
							continue;
						}

						var formatedImage = {
							thumbnail: image.urls.thumb,
							enlarged: image.urls.regular,
							title: image.user.name,
							desc: 'Maecenas sed diam eget risus varius blandit sit amet non magna. <a href="asdf">Duis mollis</a>, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit.',
							slideLink : 'https://ecodev.ch',
							buttonLabel: 'Google',
							buttonLink: 'https://google.ch'
						};

						images.push(formatedImage);
					}
				}
			});

		</script>

	</head>

	<body>
		<div class="container">
			<h1>Natural carousel</h1>

			<svg version="1.1" style="display:none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 12 7.41" enable-background="new 0 0 12 7.41"><
				<g id="natural-carousel-arrow-top">
					<path d="M1.41,7.41L6,2.83l4.59,4.58L12,6L6,0L0,6L1.41,7.41z"></path>
				</g>
			</svg>
			<script type="text/javascript">
				window.naturalCarousels = window.naturalCarousels || [];

				var naturalCarousel = {};
				naturalCarousel.id = 0;

				naturalCarousel.slidesData = images;

				// Settings
				naturalCarousel.autoReplay = true;
				naturalCarousel.waitTime = 2000;
				naturalCarousel.loop = true;
				naturalCarousel.transitionTime = 1000;
				naturalCarousel.freeMode = false;
				naturalCarousel.slidesPerView = 1;
				naturalCarousel.margin = 0;

				// @todo : to implement
				//				naturalCarousel.slideHeight = Number('{settings.slideHeight}');
				//				naturalCarousel.format = '{settings.format}';
				//				naturalCarousel.autoPlay = Boolean('{settings.autoPlay}');
				//				naturalCarousel.showThumbnails = Boolean('{settings.showThumbnails}');
				//				naturalCarousel.thumbnailHeight = Number('{settings.thumbnailHeight}');

				window.naturalCarousels.push(naturalCarousel);
			</script>

			<div class="swiper-container natural-carousel" id="natural-carousel-0">
				<!-- Additional required wrapper -->
				<div class="swiper-pagination" id="swiper-pagination-0"></div>
				<div class="swiper-wrapper"></div>
				<div class="swiper-button-prev" id="swiper-button-prev-0">
					<svg viewBox="0 0 12 7.41">
						<use xlink:href="#natural-carousel-arrow-top"></use>
					</svg>
				</div>
				<div class="swiper-button-next" id="swiper-button-next-0">
					<svg viewBox="0 0 12 7.41">
						<use xlink:href="#natural-carousel-arrow-top"></use>
					</svg>
				</div>
			</div>

			<p class="default">Curabitur blandit tempus porttitor. Sed posuere consectetur est at lobortis. Vestibulum id ligula porta felis euismod semper. Maecenas sed diam eget risus varius blandit sit amet non magna. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum id ligula porta felis euismod semper.

				Cras justo odio, dapibus ac facilisis in, egestas eget quam. Aenean lacinia bibendum nulla sed consectetur. Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Cras mattis consectetur purus sit amet fermentum. Donec id elit non mi porta gravida at eget metus. Donec sed odio dui.

				Maecenas faucibus mollis interdum. Vestibulum id ligula porta felis euismod semper. Cras mattis consectetur purus sit amet fermentum. Aenean eu leo quam. Pellentesque ornare sem lacinia quam venenatis vestibulum.</p>

		</div>
		<script src="../bower_components/Swiper/dist/js/swiper.jquery.min.js"></script>
		<script src="../dist/natural-carousel.min.js"></script>

	</body>
</html>
